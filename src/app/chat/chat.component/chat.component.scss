/* Color Variables */
$primary: #6366f1; // Indigo
$bg-sidebar: #1f2937; // Dark gray
$bg-main: #ffffff;
$bg-message-mine: #6366f1;
$bg-message-theirs: #f3f4f6;
$text-sidebar: #d1d5db;
$text-sidebar-active: #ffffff;

.chat-layout {
  display: flex;
  height: 100vh;
  width: 100%;
  overflow: hidden;
  font-family: 'Inter', system-ui, sans-serif;
}

/* --- SIDEBAR --- */
.sidebar {
  width: 260px;
  background-color: $bg-sidebar;
  color: $text-sidebar;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  .sidebar-header {
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    h3 { margin: 0; font-size: 1.1rem; color: #fff; }
  }

  .channel-list {
    flex: 1;
    padding: 15px 10px;
    overflow-y: auto;

    .section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
      padding-left: 10px;
      opacity: 0.7;
    }

    .channel-item {
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      transition: background 0.2s;
      margin-bottom: 2px;

      &:hover { background-color: rgba(255,255,255,0.05); }
      
      &.active {
        background-color: $primary;
        color: $text-sidebar-active;
        font-weight: 500;
      }

      .hash { margin-right: 8px; opacity: 0.6; }
    }
  }
}

/* --- MAIN AREA --- */
.chat-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: $bg-main;
  position: relative;

  .chat-header {
    padding: 15px 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #fff;
    
    h4 { margin: 0; font-size: 1rem; }
    small { color: #6b7280; font-size: 0.85rem; }
  }

  .messages-feed {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background-color: #f9fafb;

    .empty-state {
      text-align: center;
      margin-top: 50px;
      color: #9ca3af;
    }

    .message-row {
      display: flex;
      align-items: flex-end;
      gap: 10px;
      max-width: 70%;
      
      /* Messages from others */
      .avatar {
        width: 32px;
        height: 32px;
        background: #d1d5db;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        flex-shrink: 0;
      }

      .message-bubble {
        background: $bg-message-theirs;
        padding: 10px 14px;
        border-radius: 12px;
        border-bottom-left-radius: 2px;
        position: relative;

        .msg-meta {
          font-size: 0.75rem;
          font-weight: 600;
          color: #4b5563;
          margin-bottom: 2px;
        }
        
        .msg-body { color: #1f2937; line-height: 1.4; }
        
        .msg-time {
          font-size: 0.65rem;
          color: #9ca3af;
          text-align: right;
          margin-top: 4px;
        }
      }

      /* Messages from ME */
      &.mine {
        align-self: flex-end;
        flex-direction: row-reverse;
        
        .message-bubble {
          background: $primary;
          color: white;
          border-bottom-left-radius: 12px;
          border-bottom-right-radius: 2px;
          
          .msg-body { color: white; }
          .msg-time { color: rgba(255,255,255,0.7); }
        }
      }
    }
  }
  
  .typing-indicator {
    position: absolute;
    bottom: 70px; /* Above input */
    left: 20px;
    font-size: 0.75rem;
    color: #6b7280;
    font-style: italic;
  }

  .chat-input-area {
    padding: 20px;
    background: #fff;
    border-top: 1px solid #e5e7eb;
    
    .input-wrapper {
      display: flex;
      gap: 10px;

      input {
        flex: 1;
        padding: 12px 16px;
        border: 1px solid #d1d5db;
        border-radius: 24px;
        outline: none;
        transition: border-color 0.2s;
        
        &:focus { border-color: $primary; }
      }

      .send-btn {
        background: $primary;
        color: white;
        border: none;
        padding: 0 24px;
        border-radius: 24px;
        font-weight: 600;
        cursor: pointer;
        
        &:disabled {
          background: #e5e7eb;
          cursor: not-allowed;
        }
      }
    }
  }
}
/* --- SIDEBAR HEADER UPDATE --- */
.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  
  .add-channel-btn {
    background: none;
    border: 1px solid rgba(255,255,255,0.2);
    color: #fff;
    width: 28px;
    height: 28px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.2rem;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;

    &:hover {
      background: rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.5);
    }
  }
}

/* --- MODAL STYLES --- */
.modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6); /* Dim backdrop */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(2px); /* Nice blur effect */

  .modal-box {
    background: #fff;
    width: 400px;
    border-radius: 12px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    overflow: hidden;
    animation: modalPop 0.2s ease-out;

    .modal-header {
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #e5e7eb;
      
      h2 { margin: 0; font-size: 1.25rem; color: #111827; }
      
      .close-btn {
        background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;
        &:hover { color: #111827; }
      }
    }

    .modal-body {
      padding: 20px;
      
      .form-group {
        margin-bottom: 20px;
        label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 8px; }
      }

      .input-prefix-group {
        display: flex;
        align-items: center;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        padding: 0 10px;
        &:focus-within { border-color: #6366f1; ring: 2px solid #6366f1; }
        
        .prefix { color: #9ca3af; font-size: 1.1rem; margin-right: 5px; }
        input { border: none; flex: 1; padding: 10px 0; outline: none; font-size: 0.95rem; }
      }

      .checkbox-group {
        display: flex;
        gap: 10px;
        align-items: flex-start;
        input { margin-top: 4px; }
        label { 
          margin: 0; cursor: pointer;
          strong { display: block; color: #111827; }
          small { display: block; color: #6b7280; font-weight: normal; }
        }
      }
    }

    .modal-footer {
      padding: 15px 20px;
      background: #f9fafb;
      display: flex;
      justify-content: flex-end;
      gap: 10px;

      button {
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.875rem;
        cursor: pointer;
        border: 1px solid transparent;
      }

      .btn-cancel {
        background: white; border-color: #d1d5db; color: #374151;
        &:hover { background: #f3f4f6; }
      }

      .btn-create {
        background: #6366f1; color: white;
        &:hover { background: #4f46e5; }
        &:disabled { background: #a5a6f6; cursor: not-allowed; }
      }
    }
  }
}

@keyframes modalPop {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
// /* src/app/chat/whatsapp/chat-whatsapp.component.css */

// .wa-root { display:grid; grid-template-columns: 320px 1fr; height:100vh; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }

// .wa-left { border-right:1px solid #e6e6e6; background:#fff; display:flex; flex-direction:column; }
// .wa-left-header { padding:12px; display:flex; flex-direction:column; gap:8px; }
// .wa-left .search { padding:8px; border-radius:6px; border:1px solid #eee; }

// .chat-list { list-style:none; margin:0; padding:0; overflow:auto; }
// .chat-list li { display:flex; gap:12px; padding:12px; align-items:center; cursor:pointer; border-bottom:1px solid #fafafa; }
// .chat-list li.active { background:#f7fbf6; }
// .avatar { width:44px; height:44px; border-radius:50%; background:#9aa0a6; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; }
// .meta { flex:1; display:flex; flex-direction:column; }
// .meta .top { display:flex; justify-content:space-between; align-items:center; }
// .meta .bottom { display:flex; justify-content:space-between; align-items:center; margin-top:6px; color:#666; font-size:13px; }
// .unread { background:#ff3b30; color:#fff; padding:4px 8px; border-radius:12px; font-size:12px; }

// .wa-main { display:flex; flex-direction:column; background:#f0f2f5; }
// .wa-header { display:flex; align-items:center; gap:12px; padding:12px; background:#fff; border-bottom:1px solid #e6e6e6; }
// .avatar-large { width:48px; height:48px; border-radius:50%; background:#9aa0a6; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; }
// .header-info .name { font-weight:600; }
// .whatsapp-messages { flex:1; padding:16px; overflow:auto; display:flex; flex-direction:column; gap:6px; }
// .message-row { display:flex; }
// .message-row.me { justify-content:flex-end; }
// .wa-composer { display:flex; gap:8px; padding:10px; background:#fff; border-top:1px solid #e6e6e6; align-items:center; }
// .composer-center input { width:100%; padding:10px; border-radius:20px; border:1px solid #eaeaea; }
// .send-btn { background:#2b9aef; color:#fff; padding:8px 12px; border-radius:18px; border:none; cursor:pointer; }
// .empty { display:flex; align-items:center; justify-content:center; font-size:18px; color:#666; }
// .typing-indicator { padding:6px 12px; color:#666; font-size:13px; }
