<p-toast></p-toast>

<div class="create-org-container">
  <header class="create-org-header">
    <h1>Create Your Organization</h1>
    <p>Fill in the details below to register your new organization.</p>
  </header>

  <main class="create-org-body">
    <form [formGroup]="organizationForm" (ngSubmit)="onSubmit()" class="org-form">

      <!-- Organization Details -->
      <section class="form-section">
        <h2><i class="pi pi-building mr-2"></i> Organization Details</h2>
        <div class="form-grid">
          <div class="form-group">
            <label>Organization Name <span class="req">*</span></label>
            <input pInputText formControlName="organizationName" placeholder="Apex Innovations Inc." />
          </div>

          <div class="form-group">
            <label>Unique Shop ID <span class="req">*</span></label>
            <input pInputText formControlName="uniqueShopId" placeholder="APEX001" />
          </div>

          <div class="form-group">
            <label>Primary Email <span class="req">*</span></label>
            <input pInputText type="email" formControlName="primaryEmail" placeholder="contact@apex.com" />
          </div>

          <div class="form-group">
            <label>Primary Phone <span class="req">*</span></label>
            <input pInputText formControlName="primaryPhone" placeholder="+91 9876543210" />
          </div>

          <div class="form-group">
            <label>GST Number</label>
            <input pInputText formControlName="gstNumber" placeholder="22AAAAA0000A1Z5" />
          </div>
        </div>
      </section>

      <!-- Owner Details -->
      <section class="form-section">
        <h2><i class="pi pi-user mr-2"></i> Owner (Super Admin) Details</h2>
        <div class="form-grid">
          <div class="form-group">
            <label>Owner Name <span class="req">*</span></label>
            <input pInputText formControlName="ownerName" placeholder="Your full name" />
          </div>

          <div class="form-group">
            <label>Owner Email <span class="req">*</span></label>
            <input pInputText type="email" formControlName="ownerEmail" placeholder="admin@apex.com" />
          </div>

          <div class="form-group col-span-2">
            <label>Password <span class="req">*</span></label>
            <p-password
              formControlName="ownerPassword"
              [toggleMask]="true"
              placeholder="Min. 8 characters"
              styleClass="w-full"
            ></p-password>
          </div>
        </div>
      </section>

      <!-- Branch Details -->
      <section class="form-section">
        <h2><i class="pi pi-map-marker mr-2"></i> Main Branch Details</h2>
        <div class="form-grid">
          <div class="form-group">
            <label>Branch Name <span class="req">*</span></label>
            <input pInputText formControlName="mainBranchName" placeholder="e.g. Apex HQ" />
          </div>
        </div>

        <div formGroupName="mainBranchAddress" class="form-grid mt-2">
          <div class="form-group col-span-2">
            <label>Street Address <span class="req">*</span></label>
            <input pInputText formControlName="street" placeholder="123 Main St" />
          </div>

          <div class="form-group">
            <label>City <span class="req">*</span></label>
            <input pInputText formControlName="city" />
          </div>

          <div class="form-group">
            <label>State <span class="req">*</span></label>
            <input pInputText formControlName="state" />
          </div>

          <div class="form-group">
            <label>Zip Code <span class="req">*</span></label>
            <input pInputText formControlName="zipCode" />
          </div>
        </div>
      </section>

      <!-- Footer Buttons -->
      <div class="form-actions">
        <button
          pButton
          type="submit"
          label="Create Organization"
          icon="pi pi-check"
          class="submit-btn"
          [loading]="isLoading()"
          [disabled]="organizationForm.invalid || isLoading()"
        ></button> <!-- Removed (click) handler, using form (ngSubmit) -->

        <div class="form-links">
          <button pButton label="Login" routerLink="/auth/login" class="link-btn"></button>
          <button pButton label="Signup" routerLink="/auth/signup" class="link-btn"></button>
        </div>
      </div>
    </form>
  </main>
</div>