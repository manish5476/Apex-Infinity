<div class="customer-page-container">
  <!-- === Customer Data === -->
  <div class="customer-details-card" *ngIf="customer(); else loadingSkeleton">
    <!-- === HEADER === -->
    <header class="details-header">
      <div class="header-left">
        <p-button
          icon="pi pi-arrow-left"
          styleClass="p-button-text p-button-rounded"
          routerLink="/customer">
        </p-button>

        <div class="header-info">
          <h2 class="form-title">{{ customer()?.name }}</h2>
          <p-tag
            [value]="customer()?.isActive ? 'Active' : 'Inactive'"
            [severity]="customer()?.isActive ? 'success' : 'danger'">
          </p-tag>
        </div>
      </div>

      <div class="header-actions">
        <p-button label="Edit" icon="pi pi-pencil" styleClass="p-button-outlined"></p-button>
        <p-button label="More" icon="pi pi-ellipsis-v" styleClass="p-button-text p-button-rounded"></p-button>
      </div>
    </header>

    <p-divider></p-divider>

    <!-- === BODY === -->
    <div class="details-body">
      <!-- Sidebar -->
      <aside class="profile-sidebar">
        <p-avatar
          [image]="customer()?.avatar"
          [label]="getInitials(customer()?.name || '')"
          styleClass="profile-avatar"
          shape="circle">
        </p-avatar>

        <h3 class="profile-name">{{ customer()?.name }}</h3>
        <span class="profile-type">{{ customer()?.type | titlecase }}</span>

        <p-divider></p-divider>

        <div class="profile-contact">
          <div
            class="contact-card"
            *ngFor="let field of [
              { icon: 'pi-user', label: 'Contact Person', value: customer()?.contactPerson },
              { icon: 'pi-envelope', label: 'Email', value: customer()?.email },
              { icon: 'pi-phone', label: 'Phone', value: customer()?.phone },
              { icon: 'pi-mobile', label: 'Alt. Phone', value: customer()?.altPhone },
              { icon: 'pi-calendar', label: 'Member Since', value: formatDate(customer()?.createdAt) }
            ]">
            <i class="pi {{ field.icon }} contact-icon"></i>
            <div class="contact-content">
              <label>{{ field.label }}</label>
              <span>{{ field.value || 'N/A' }}</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Details -->
      <section class="main-details">
        <!-- === FINANCIAL OVERVIEW === -->
        <div class="info-section">
          <h4 class="section-title">Financial Overview</h4>
          <div class="info-grid">
            <div class="info-card" *ngFor="let item of [
              { label: 'Outstanding', value: formatCurrency(customer()?.outstandingBalance), highlight: true },
              { label: 'Credit Limit', value: formatCurrency(customer()?.creditLimit) },
              { label: 'Opening Balance', value: formatCurrency(customer()?.openingBalance) }
            ]">
              <label>{{ item.label }}</label>
              <span [class.outstanding]="item.highlight">{{ item.value }}</span>
            </div>
          </div>
        </div>

        <!-- === ADDRESS DETAILS === -->
        <div class="info-section">
          <h4 class="section-title">Address Information</h4>
          <div class="address-grid">
            <div class="info-card address" *ngFor="let addr of [
              { title: 'Billing Address', data: customer()?.billingAddress },
              { title: 'Shipping Address', data: customer()?.shippingAddress }
            ]">
              <h5>{{ addr.title }}</h5>
              <div *ngFor="let key of ['street', 'city', 'state', 'zipCode']" class="address-item">
                <label>{{ key | titlecase }}</label>
                <span>{{ addr.data?.[key] || 'N/A' }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- === OTHER DETAILS === -->
        <div class="info-section">
          <h4 class="section-title">Other Details</h4>
          <div class="info-grid">
            <div class="info-card" *ngFor="let f of [
              { label: 'GST Number', value: customer()?.gstNumber },
              { label: 'PAN Number', value: customer()?.panNumber },
              { label: 'Payment Terms', value: customer()?.paymentTerms }
            ]">
              <label>{{ f.label }}</label>
              <span>{{ f.value || 'N/A' }}</span>
            </div>
          </div>

          <div class="info-card tags-card">
            <label>Tags</label>
            <div class="tags-container" *ngIf="getFilteredTags() as filteredTags">
              <ng-container *ngIf="filteredTags.length > 0; else noTags">
                <p-tag *ngFor="let tag of filteredTags" [value]="tag"></p-tag>
              </ng-container>
              <ng-template #noTags>
                <span>N/A</span>
              </ng-template>
            </div>
          </div>

          <div class="info-card notes">
            <label>Notes</label>
            <p>{{ customer()?.notes || 'No notes provided.' }}</p>
          </div>
        </div>
      </section>
    </div>

    <!-- === FOOTER === -->
    <footer class="details-footer">
      <p-button label="Back to List" icon="pi pi-arrow-left" styleClass="p-button-text" routerLink="/customer"></p-button>
      <p-button label="Edit Customer" icon="pi pi-pencil"></p-button>
    </footer>
  </div>

  <!-- === SKELETON LOADER === -->
  <ng-template #loadingSkeleton>
    <div class="skeleton-wrapper">
        <div class="skeleton-header">
            <p-skeleton height="2rem" width="40%"></p-skeleton>
        </div>
        <div class="skeleton-body">
            <p-skeleton width="22%" height="400px"></p-skeleton>
            <div class="skeleton-main">
                <p-skeleton height="10rem" width="100%"></p-skeleton>
                <p-skeleton height="10rem" width="100%"></p-skeleton>
                <p-skeleton height="10rem" width="100%"></p-skeleton>
            </div>
        </div>
    </div>
  </ng-template>
</div>

<!-- <div class="customer-page-container">
  === Customer Data ===
  <div class="customer-details-card" *ngIf="customer(); else loadingSkeleton">
    === HEADER ===
    <header class="details-header">
      <div class="header-left">
        <p-button
          icon="pi pi-arrow-left"
          styleClass="p-button-text p-button-rounded"
          routerLink="/customer">
        </p-button>

        <div class="header-info">
          <h2 class="form-title">{{ customer()?.name }}</h2>
          <p-tag
            [value]="customer()?.isActive ? 'Active' : 'Inactive'"
            [severity]="customer()?.isActive ? 'success' : 'danger'">
          </p-tag>
        </div>
      </div>

      <div class="header-actions">
        <p-button label="Edit" icon="pi pi-pencil" styleClass="p-button-outlined"></p-button>
        <p-button label="More" icon="pi pi-ellipsis-v" styleClass="p-button-text"></p-button>
      </div>
    </header>

    <p-divider></p-divider>

    === BODY ===
    <div class="details-body">
      Sidebar
      <aside class="profile-sidebar">
        <p-avatar
          [image]="customer()?.avatar"
          [label]="getInitials(customer()?.name || '')"
          styleClass="profile-avatar"
          shape="circle">
        </p-avatar>

        <h3 class="profile-name">{{ customer()?.name }}</h3>
        <span class="profile-type">{{ customer()?.type | titlecase }}</span>

        <p-divider></p-divider>

        <div class="profile-contact">
          <div
            class="contact-card"
            *ngFor="let field of [
              { icon: 'pi-user', label: 'Contact Person', value: customer()?.contactPerson },
              { icon: 'pi-envelope', label: 'Email', value: customer()?.email },
              { icon: 'pi-phone', label: 'Phone', value: customer()?.phone },
              { icon: 'pi-mobile', label: 'Alt. Phone', value: customer()?.altPhone },
              { icon: 'pi-calendar', label: 'Member Since', value: formatDate(customer()?.createdAt) }
            ]">
            <i class="pi {{ field.icon }} contact-icon"></i>
            <div class="contact-content">
              <label>{{ field.label }}</label>
              <span>{{ field.value || 'N/A' }}</span>
            </div>
          </div>
        </div>
      </aside>

      Main Details
      <section class="main-details">
        === FINANCIAL OVERVIEW ===
        <div class="info-section">
          <h4 class="section-title">Financial Overview</h4>
          <div class="info-grid">
            <div class="info-card" *ngFor="let item of [
              { label: 'Outstanding', value: formatCurrency(customer()?.outstandingBalance), highlight: true },
              { label: 'Credit Limit', value: formatCurrency(customer()?.creditLimit) },
              { label: 'Opening Balance', value: formatCurrency(customer()?.openingBalance) }
            ]">
              <label>{{ item.label }}</label>
              <span [class.outstanding]="item.highlight">{{ item.value }}</span>
            </div>
          </div>
        </div>

        === ADDRESS DETAILS ===
        <div class="info-section">
          <h4 class="section-title">Address Information</h4>
          <div class="address-grid">
            <div class="info-card address" *ngFor="let addr of [
              { title: 'Billing Address', data: customer()?.billingAddress },
              { title: 'Shipping Address', data: customer()?.shippingAddress }
            ]">
              <h5>{{ addr.title }}</h5>
              <div *ngFor="let key of ['street', 'city', 'state', 'zipCode']" class="address-item">
                <label>{{ key | titlecase }}</label>
                <span>{{ addr.data?.[key] || 'N/A' }}</span>
              </div>
            </div>
          </div>
        </div>

        === OTHER DETAILS ===
        <div class="info-section">
          <h4 class="section-title">Other Details</h4>
          <div class="info-grid">
            <div class="info-card" *ngFor="let f of [
              { label: 'GST Number', value: customer()?.gstNumber },
              { label: 'PAN Number', value: customer()?.panNumber },
              { label: 'Payment Terms', value: customer()?.paymentTerms }
            ]">
              <label>{{ f.label }}</label>
              <span>{{ f.value || 'N/A' }}</span>
            </div>
          </div>

          <div class="info-card">
            <label>Tags</label>
            <div class="tags-container" *ngIf="getFilteredTags() as filteredTags">
              <p-tag *ngFor="let tag of filteredTags" [value]="tag"></p-tag>
            </div>
          </div>

          <div class="info-card notes">
            <label>Notes</label>
            <p>{{ customer()?.notes || 'No notes provided.' }}</p>
          </div>
        </div>
      </section>
    </div>

    === FOOTER ===
    <footer class="details-footer">
      <div class="footer-actions">
        <p-button label="Back to List" icon="pi pi-arrow-left" styleClass="p-button-text"></p-button>
        <p-button label="Edit Customer" icon="pi pi-pencil" styleClass="p-button-primary"></p-button>
      </div>
    </footer>
  </div>

  === SKELETON LOADER ===
  <ng-template #loadingSkeleton>
    <div class="skeleton-wrapper">
      <p-skeleton height="2rem" width="50%" styleClass="mb-3"></p-skeleton>
      <p-skeleton height="15rem" width="100%" styleClass="mb-2"></p-skeleton>
      <p-skeleton height="15rem" width="100%" styleClass="mb-2"></p-skeleton>
      <p-skeleton height="15rem" width="100%"></p-skeleton>
    </div>
  </ng-template>
</div>
 -->
