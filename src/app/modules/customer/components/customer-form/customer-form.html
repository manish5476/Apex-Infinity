<p-toast></p-toast>

<div class="customer-wrapper">
  <section class="customer-container">
    <!-- === LEFT IMAGE / INFO SIDE === -->
    <div class="customer-banner">
      <img src="https://images.unsplash.com/photo-1573164713714-d90c6eafaa38?auto=format&fit=crop&q=80&w=1200"
        alt="Customer background" />
      <div class="customer-overlay"></div>
      <div class="customer-banner-text">
        <h2>Create a New Customer</h2>
        <p>Maintain accurate customer records and improve your sales workflow.</p>
      </div>
    </div>

    <!-- === RIGHT FORM PANEL === -->
    <div class="customer-form-panel">
      <div class="customer-content">
        <h1 class="form-title">Customer Details</h1>
        <p class="form-subtitle">Complete the information below to register your new customer.</p>

        <form [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="form-body">
          <!-- TYPE -->
          <div class="form-grid">
            <div class="form-group">
              <label>Customer Type</label>
              <p-select [options]="customerTypes" formControlName="type" optionLabel="label"
                optionValue="value"></p-select>
            </div>

            <div class="form-group">
              <label>Customer Name <span class="req">*</span></label>
              <input pInputText formControlName="name" placeholder="Full name or business name" />
            </div>
          </div>

          <div class="form-grid">
            <div class="form-group" *ngIf="customerForm.get('type')?.value === 'business'">
              <label>Contact Person</label>
              <input pInputText formControlName="contactPerson" placeholder="Person to contact" />
            </div>
            <div class="form-group">
              <label>Email</label>
              <input pInputText type="email" formControlName="email" placeholder="you@domain.com" />
            </div>
            <div class="form-group">
              <label>Phone <span class="req">*</span></label>
              <input pInputText formControlName="phone" placeholder="+91 9876543210" />
            </div>
            <div class="form-group">
              <label>Alt Phone</label>
              <input pInputText formControlName="altPhone" placeholder="+91 9876500000" />
            </div>
          </div>

          <p-divider align="center" type="dashed"><b>Financial Info</b></p-divider>
          <div class="form-grid">
            <div class="form-group">
              <label>Opening Balance</label>
              <p-inputNumber formControlName="openingBalance" mode="decimal" [minFractionDigits]="2"></p-inputNumber>
            </div>
            <div class="form-group">
              <label>Credit Limit</label>
              <p-inputNumber formControlName="creditLimit" mode="decimal" [minFractionDigits]="2"></p-inputNumber>
            </div>
            <div class="form-group">
              <label>Payment Terms</label>
              <input pInputText formControlName="paymentTerms" placeholder="e.g., 30 Days" />
            </div>
          </div>

          <p-divider align="center" type="dashed"><b>Address</b></p-divider>
          <div class="form-grid">
            <div class="form-group col-span-2">
              <label>Billing Street</label>
              <input pInputText formControlName="billingAddress.street" placeholder="123 Main Street" />
            </div>
            <div class="form-group">
              <label>Billing City</label>
              <input pInputText formControlName="billingAddress.city" />
            </div>
            <div class="form-group">
              <label>Billing State</label>
              <input pInputText formControlName="billingAddress.state" />
            </div>
            <div class="form-group">
              <label>Billing Zip</label>
              <input pInputText formControlName="billingAddress.zipCode" />
            </div>
          </div>

          <p-divider align="center" type="dashed"><b>Other Info</b></p-divider>
          <div class="form-grid">
            <div class="form-group">
              <label>GST Number</label>
              <input pInputText formControlName="gstNumber" />
            </div>
            <div class="form-group">
              <label>PAN Number</label>
              <input pInputText formControlName="panNumber" />
            </div>
          </div>

          <div class="form-group">
            <label>Tags (comma separated)</label>
            <input pInputText formControlName="tags" placeholder="VIP, Regular, Bulk Buyer" />
          </div>

          <div class="form-group">
            <label>Notes</label>
            <textarea pInputTextarea formControlName="notes" rows="3"></textarea>
          </div>

          <div class="form-group flex items-center gap-2">
            <p-checkbox formControlName="isActive" [binary]="true"></p-checkbox>
            <label>Active</label>
          </div>

          <div class="form-actions">
            <p-button label="Create Customer" icon="pi pi-check" type="submit" [loading]="isSubmitting()"
              styleClass="w-full justify-center"></p-button>
          </div>
        </form>
      </div>
    </div>
  </section>
</div>